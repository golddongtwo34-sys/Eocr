<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>EOCR 계산기 (LS)</title>
<style>
body{font-family:-apple-system;margin:20px;background:#111;color:#eee}
input,select,button{font-size:18px;padding:12px;margin:6px 0;width:100%}
.card{background:#1b1b1b;padding:15px;border-radius:12px}
a{color:#4da3ff}
</style>
</head>
<body>

<h2>모터 보호기 계산기 (LS)</h2>

<div class="card">
<select id="phase">
<option value="three">삼상</option>
<option value="single">단상</option>
</select>

<select id="unit">
<option value="hp">HP</option>
<option value="kw">kW</option>
</select>

<input id="val" placeholder="값 입력">

<button onclick="calc()">계산</button>

<h3 id="out"></h3>
</div>

<script>
function round(a){
 return (Math.round(a*10)/10).toFixed(1)
}

function lsLink(name){
 return "https://www.ls-electric.com/ko/search?searchKeyword="
        + encodeURIComponent(name);
}

function eocrModel(I){
 if(I<=22) return "GMP22-2P";
 if(I<=40) return "GMP40-2P";
 if(I<=60) return "GMP60-3TZ";
 return "외부CT형";
}

function mcModel(I){
 let t=I*1.25;
 if(t<=9) return "MC-9a";
 if(t<=12) return "MC-12a";
 if(t<=18) return "MC-18a";
 if(t<=22) return "MC-22a";
 if(t<=32) return "MC-32a";
 if(t<=40) return "MC-40a";
 return "MC-50a";
}

function breaker(I){
 let at=Math.ceil(I*2.2/5)*5;
 if(at<=30) return "ABN33c";
 if(at<=50) return "ABN53c";
 if(at<=100) return "ABN103c";
 return "ABN223c";
}

function cable(I){
 if(I<16) return 2.5;
 if(I<26) return 4;
 if(I<36) return 6;
 return 10;
}

function calc(){
 let p=phase.value;
 let u=unit.value;
 let v=Number(val.value);
 if(!v) return;

 let kw=(u=="kw")?v:v*0.746;

 let I=(p=="single")
 ? (1000*kw)/(220*0.9*0.85)
 : (1000*kw)/(1.732*380*0.85*0.9);

 let e=eocrModel(I);
 let m=mcModel(I);
 let b=breaker(I);
 let set=round(I*1.1);

 out.innerHTML=
 "정격전류: "+round(I)+"A<br><br>"+

 "EOCR: <a target=_blank href='"+lsLink(e)+"'>"+e+"</a><br>"+
 "EOCR 세팅: "+set+"A<br><br>"+

 "MC: <a target=_blank href='"+lsLink(m)+"'>"+m+"</a><br>"+
 "차단기: <a target=_blank href='"+lsLink(b)+"'>"+b+"</a><br>"+
 "전선: "+cable(I)+"㎟";
}
</script>

</body>
</html>
